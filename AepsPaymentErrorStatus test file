
  ● AepsPaymentErrorStatus › renders default error state

    TestingLibraryElementError: Unable to find an element with the text: Oops!. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.

    Ignored nodes: comments, script, style
    <body>
      <div>
         
        <div
          class="AepsPaymentBox MuiBox-root css-0"
        >
          <img
            alt="noPan"
            src="/mocked/pan_error.png"
          />
          <p
            class="MuiTypography-root MuiTypography-body1 manage_payment_error css-ahj2mt-MuiTypography-root"
          />
          <p
            class="MuiTypography-root MuiTypography-body1 error_description css-ahj2mt-MuiTypography-root"
          />
          <div
            class="buttonBox MuiBox-root css-0"
          >
            <button
              data-testid="secondary-button"
            >
              <p
                class="MuiTypography-root MuiTypography-body1 css-ahj2mt-MuiTypography-root"
              />
            </button>
            <button
              data-testid="primary-button"
            >
              <p
                class="MuiTypography-root MuiTypography-body1 css-ahj2mt-MuiTypography-root"
              />
            </button>
          </div>
        </div>
      </div>
    </body>

      62 |   it('renders default error state', () => {
      63 |     render(<AepsPaymentErrorStatus />);
    > 64 |     expect(screen.getByText('Oops!')).toBeInTheDocument();
         |                   ^
      65 |     expect(screen.getByText('Something went wrong')).toBeInTheDocument();
      66 |     expect(screen.getByText('Retry')).toBeInTheDocument();
      67 |     expect(screen.getByText('Overview')).toBeInTheDocument();

      at Object.getElementError (../../node_modules/.pnpm/@testing-library+dom@9.3.3/node_modules/@testing-library/dom/dist/config.js:37:19)
      at ../../node_modules/.pnpm/@testing-library+dom@9.3.3/node_modules/@testing-library/dom/dist/query-helpers.js:76:38
      at ../../node_modules/.pnpm/@testing-library+dom@9.3.3/node_modules/@testing-library/dom/dist/query-helpers.js:52:17
      at ../../node_modules/.pnpm/@testing-library+dom@9.3.3/node_modules/@testing-library/dom/dist/query-helpers.js:95:19
      at Object.getByText (tests/aeps-payment/AepsPaymentErrorStatus.test.tsx:64:19)

  ● AepsPaymentErrorStatus › renders with Aadhaar error

    TestingLibraryElementError: Unable to find an element with the text: Adhaar Error. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.

    Ignored nodes: comments, script, style
    <body>
      <div>
         
        <div
          class="AepsPaymentBox MuiBox-root css-0"
        >
          <img
            alt="noPan"
            src="/mocked/pan_error.png"
          />
          <p
            class="MuiTypography-root MuiTypography-body1 manage_payment_error css-ahj2mt-MuiTypography-root"
          />
          <p
            class="MuiTypography-root MuiTypography-body1 error_description css-ahj2mt-MuiTypography-root"
          />
          <div
            class="buttonBox MuiBox-root css-0"
          >
            <button
              data-testid="secondary-button"
            >
              <p
                class="MuiTypography-root MuiTypography-body1 css-ahj2mt-MuiTypography-root"
              />
            </button>
            <button
              data-testid="primary-button"
            >
              <p
                class="MuiTypography-root MuiTypography-body1 css-ahj2mt-MuiTypography-root"
              />
            </button>
          </div>
        </div>
      </div>
    </body>

      70 |   it('renders with Aadhaar error', () => {
      71 |     render(<AepsPaymentErrorStatus isAdhaarError />);
    > 72 |     expect(screen.getByText('Adhaar Error')).toBeInTheDocument();
         |                   ^
      73 |     expect(screen.getByText('Invalid Aadhaar details')).toBeInTheDocument();
      74 |     expect(screen.getByText('Update Aadhaar')).toBeInTheDocument();
      75 |   });

      at Object.getElementError (../../node_modules/.pnpm/@testing-library+dom@9.3.3/node_modules/@testing-library/dom/dist/config.js:37:19)
      at ../../node_modules/.pnpm/@testing-library+dom@9.3.3/node_modules/@testing-library/dom/dist/query-helpers.js:76:38
      at ../../node_modules/.pnpm/@testing-library+dom@9.3.3/node_modules/@testing-library/dom/dist/query-helpers.js:52:17
      at ../../node_modules/.pnpm/@testing-library+dom@9.3.3/node_modules/@testing-library/dom/dist/query-helpers.js:95:19
      at Object.getByText (tests/aeps-payment/AepsPaymentErrorStatus.test.tsx:72:19)

  ● AepsPaymentErrorStatus › renders with CASA error

    TestingLibraryElementError: Unable to find an element with the text: Oops!. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.

    Ignored nodes: comments, script, style
    <body>
      <div>
         
        <div
          class="AepsPaymentBox MuiBox-root css-0"
        >
          <img
            alt="noPan"
            src="/mocked/pan_error.png"
          />
          <p
            class="MuiTypography-root MuiTypography-body1 manage_payment_error css-ahj2mt-MuiTypography-root"
          />
          <p
            class="MuiTypography-root MuiTypography-body1 error_description css-ahj2mt-MuiTypography-root"
          />
          <div
            class="buttonBox MuiBox-root css-0"
          >
            <button
              data-testid="secondary-button"
            >
              <p
                class="MuiTypography-root MuiTypography-body1 css-ahj2mt-MuiTypography-root"
              />
            </button>
            <button
              data-testid="primary-button"
            >
              <p
                class="MuiTypography-root MuiTypography-body1 css-ahj2mt-MuiTypography-root"
              />
            </button>
          </div>
        </div>
      </div>
    </body>

      77 |   it('renders with CASA error', () => {
      78 |     render(<AepsPaymentErrorStatus isCasaError />);
    > 79 |     expect(screen.getByText('Oops!')).toBeInTheDocument();
         |                   ^
      80 |     expect(screen.getByText('CASA error occurred')).toBeInTheDocument();
      81 |     expect(screen.getByText('Retry')).toBeInTheDocument();
      82 |   });

      at Object.getElementError (../../node_modules/.pnpm/@testing-library+dom@9.3.3/node_modules/@testing-library/dom/dist/config.js:37:19)
      at ../../node_modules/.pnpm/@testing-library+dom@9.3.3/node_modules/@testing-library/dom/dist/query-helpers.js:76:38
      at ../../node_modules/.pnpm/@testing-library+dom@9.3.3/node_modules/@testing-library/dom/dist/query-helpers.js:52:17
      at ../../node_modules/.pnpm/@testing-library+dom@9.3.3/node_modules/@testing-library/dom/dist/query-helpers.js:95:19
      at Object.getByText (tests/aeps-payment/AepsPaymentErrorStatus.test.tsx:79:19)

  ● AepsPaymentErrorStatus › navigates to correct routes on button click

    expect(jest.fn()).toHaveBeenCalledWith(...expected)

    Expected: "/service-request/overview"
    Received: "/overview"

    Number of calls: 1

      85 |     render(<AepsPaymentErrorStatus />);
      86 |     fireEvent.click(screen.getByTestId('secondary-button'));
    > 87 |     expect(push).toHaveBeenCalledWith('/service-request/overview');
         |                  ^
      88 |
      89 |     fireEvent.click(screen.getByTestId('primary-button'));
      90 |     expect(push).toHaveBeenCalledWith('/service-request/update-pan');

      at Object.toHaveBeenCalledWith (tests/aeps-payment/AepsPaymentErrorStatus.test.tsx:87:18)

  ● AepsPaymentErrorStatus › shows HeaderwithArrow on mobile

    TypeError: expect(...).toBeInTheDocument is not a function

      94 |     (mui.useMediaQuery as jest.Mock).mockReturnValue(true);
      95 |     render(<AepsPaymentErrorStatus />);
    > 96 |     expect(screen.getByTestId('header-arrow')).toBeInTheDocument();
         |                                                ^
      97 |   });
      98 | });
      99 |

      at Object.toBeInTheDocument (tests/aeps-payment/AepsPaymentErrorStatus.test.tsx:96:48)

Test Suites: 1 failed, 1 total
Tests:       5 failed, 5 total
Snapshots:   0 total
Time:        0.577 s
Ran all test suites matching /AepsPaymentErrorStatus.test.tsx/i.
 ELIFECYCLE  Test failed. See above for more details.
