import userEvent from '@testing-library/user-event';

const user = userEvent.setup();

await user.click(getByTestId('year-dropdown')); // open dropdown
await user.click(getByText('2023-2024'));       // select option



import userEvent from '@testing-library/user-event';

it('selects both dropdowns and triggers dispatch', async () => {
  const user = userEvent.setup();
  const { getByTestId, getByText } = render(<TdsPage />);

  await user.click(getByTestId('year-dropdown'));
  await user.click(getByText('2023-2024'));

  await user.click(getByTestId('quarter-dropdown'));
  await user.click(getByText('Q1'));

  const downloadButton = getByTestId('download-button');
  await user.click(downloadButton);

  await waitFor(() => {
    expect(mockDispatch).toHaveBeenCalled();
  });
});
