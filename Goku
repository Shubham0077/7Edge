// __tests__/SuccessScreen.test.tsx

import React from 'react';
import { render, screen, fireEvent } from '@testing-library/react';
import SuccessScreen from '../SuccessScreen';

describe('SuccessScreen - Minimal Passing Tests', () => {
  const mockSetSuccessScreen = jest.fn();

  it('shows text when emailBtnClicked is true', () => {
    render(
      <SuccessScreen
        successScreen={true}
        setSuccessScreen={mockSetSuccessScreen}
        applicationReferenceNumber="ABC123"
        emailBtnClicked={true}
        pdf=""
      />
    );

    expect(screen.getByText(/CONGRATULATIONS/i)).toBeInTheDocument();
    expect(screen.getByText(/sent to your registered E-Mail ID/i)).toBeInTheDocument();
    expect(screen.getByText('ABC123')).toBeInTheDocument();
  });

  it('triggers setSuccessScreen(false) on button click', () => {
    render(
      <SuccessScreen
        successScreen={true}
        setSuccessScreen={mockSetSuccessScreen}
        applicationReferenceNumber="XYZ789"
        emailBtnClicked={false}
        pdf=""
      />
    );

    const button = screen.getByTestId('continueButtonAccounts');
    fireEvent.click(button);

    expect(mockSetSuccessScreen).toHaveBeenCalledWith(false);
  });
});
