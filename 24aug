// src/utils/fetchBeneDetails.ts
export const fetchBeneDetails = async (
  dispatch: any,
  getBeneDetails: any,
  body: {
    remAccountNo: string;
    remName: string;
    remMobileNo: string;
    payeeBankMmid: string;
    payeeMobileNo: string;
  }
) => {
  try {
    const result = await dispatch(getBeneDetails(body));
    return result; // return the API result to the caller
  } catch (error: any) {
    console.error("fetchBeneDetails error:", error);
    throw error; // let the caller handle error
  }
};




import { fetchBeneDetails } from "../../utils/fetchBeneDetails";

const RootQuickTransfer = () => {

  const handleFetchBene = async () => {
    const body = {
      remAccountNo: indusIndCutomerAcc[0]?.accountNumber,
      remName: `${firstName} ${lastName}`,
      remMobileNo: mobileNumberSliced,
      payeeBankMmid: "9211000",
      payeeMobileNo: confirmMobileNumber,
    };

    const result = await fetchBeneDetails(dispatch, getBeneDetails, body);

    if (result?.payload?.returnCode === "200") {
      setIsBeneDetailsFound(BooleanValue?.true);
      setBeneDetailsName(result.payload?.data?.beneficiaryName);
    } else {
      setErrorScreen(BooleanValue?.true);
      setFirstApiError(BooleanValue?.true);
    }
  };

  // use handleFetchBene wherever needed
};
